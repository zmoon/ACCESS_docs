
.. highlight:: bash

Quickstart guide
================

These brief instructions should enable you to start using the model.
Running with the default configuration using the provided example input files should be relatively simple.

Installation
------------
Ideally, ACCESS should be run on a MacOS or Linux platform.
It has been developed solely on the MacOS, but has been tested on Linux Ubuntu.
ACCESS_2 is written in Fortran90 and is currently set up to use "gfortran" as the compiler.
Other Fortran compilers will probably work without too many changes to the source, but no others have been tested so far.
The only other software dependencies are for use of the quick look plotting programs in the "out" sub-directory.

Steps:

#. Obtain the source code from the GitHub repository.
#. Unzip the ACCESS_2.tgz tar bundle with ``tar xvf ACCESS_2.tgz`` into the directory where you want the code to reside.
#. First, to compile the ACCESS source code, ``cd`` into the "src" sub-directory and issue the command ``make``.
   This will compile the code and place the executable into the "bin" sub-directory.



Analyzing your results
----------------------
You can get a quick look at your results using the provided Python module.

The code "pltaccess" in this directory uses Python 2.7 and the matplotlib library, along with the wxpython library for GUI.

"pltaccess" was created only to provide a "quick look" at results of an ACCESS simulation.

The plots generated by this code are not meant to be publication quality.

Use your own favorite plotting software to create nice plots.



Running a simulation
--------------------
To run an ACCESS simulation, ``cd`` to the top-level directory and issue the command ``./accessx SIMNAME``,
where SIMNAME is the name of the simulation you want to run.

The simulations are defined by the control files located in the "ctrl" sub-directory.

So, as an example, there is a control file named "accessCTRL_ch140705d1.dat" for the simulation with SIMNAME = "ch140705d1".

To run the simulation, you would issue the command ``./accessx ch140705d1``.

A successful simulation will result in a new directory in the "out" sub-directory with the same name as SIMNAME.

All of the simulation results will be located in that directory.

Input files
^^^^^^^^^^^

For your own simulations, you will need to create 7 different input files (this is the hardest part of doing a simulation!).
However, as noted elsewhere, example input files are included for testing and to help you in constructing your own.

.. list-table:: Necessary input files
   :widths: 1 4
   :header-rows: 0

   * - accessCTRL_SIMNAME.dat
     - the control file for the simulation.
   * - cinit.dat
     - initial conditions file (only ICs of simulated species that are non-zero).
   * - envmet.dat
     - environmental and meteorological data file (see examples in "data" sub-directory).
   * - canopy.dat
     - canopy morphological file (defines the LAI profile of the canopy you are simulating).
   * - soil.dat
     - soil properties file
   * - advect.dat
     - background concentrations file (only contains species for which you want to provide background concs.)

.. note::
   These were the required files for ACCESS v2.0.
   This section will need to be updated for the newer version with updated canopy physics.

The names of these files should correspond to whatever you are trying to simulate.

Examples of these files are located in the "data" sub-directory for the Chestnut Ridge canopy.
